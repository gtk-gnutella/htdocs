<!-- $Id$ -->
<h1 align="center">FAQ</h1>

<!--
  --
  -- TOC
  --
  -->

<h2>General</h2>
<ul>
  <li><a href="#general0">What is gnutella anyway?</a></li>
  <li><a href="#general1">This eats up too much bandwidth!</a></li>
  <li><a href="#general2">What is an Ultrapeer?</a></li>
</ul>

<h2>Gnutella connections</h2>
<ul>
  <li><a href="#gnet0">What is a good number of connections?</a></li>
  <li><a href="#gnet1">Do I need to forward a port on my firewall?</a></li>
  <li><a href="#gnet2">What does "[FC]" mean?</a></li>
  <li><a href="#gnet3">Why do i loose gnet connections when i have an upload?</a></li>
  <li><a href="#gnet4">What does this stuff in the type column mean?</a></li>
</ul>


<h2>Searches</h2>
<ul>
  <li><a href="#search0">How can I get more results?</a></li>
  <li><a href="#search1">Where did the filters go?</a></li>
</ul>


<h2>Downloads</h2>
<ul>
  <li><a href="#down0">What does the status "ignore by [SHA1|name & size]" mean?</a></li>
  <li><a href="#down1">What does the status "No URN on server" mean?</a></li>
  <li><a href="#down2">Why is the same file downloaded X times?</a></li>
  <li><a href="#down3">What is "swarming"?</a></li>
  <li><a href="#down4">What is a "chunk"?</a></li>
  <li><a href="#down5">What is the "download mesh"?</a></li>
  <li><a href="#down6">What is a "push request"?</a></li>
  <li><a href="#down7">Why does gtk-gnutella append a .OK to my filenames?</a></li>
</ul>

<!--
  --
  -- Questions and anwers below
  --
  -->

<hr>

<h2>General</h2>

<h3><a name="general0">What is gnutella anyway?</a></h3>
<p>
  Gnutella is a decentralized Peer to Peer information exchanging network. At the moment you can publish and download files
  of any kind using the Gnutella network. For more information, visit the <a href="http://www.infoanarchy.org/wiki/wiki.pl?Gnutella">definition
  of gnutella</a> on the infoAnarchy wiki.
</p>

<h3><a name="general1">This eats up too much bandwidth!</a></h3>
<p>
  At the moment you can try one or more of the following things if you are a user on a slow line (modem):
  <ul>
    <li>Limit the number of GNet connections you have.
    <li>If you are able to receive incoming connections, enable "prefer compressed connections"
    in the GnutellaNet options (expert mode needs to be enabled)
    <li>Depress the lower-left button in the GUI after your downloads have started.
    This will disconnect from the Gnutella network.
    We strongly advise you to NOT doing that. You won't
    be able to get more alternate locations from the net and people won't be able
    to search your files.
  </ul>
</p>

<h3><a name="general2">What is an Ultrapeer?</a></h3>
<p>
  An Ultrapeer shields modem users or users that otherwise can't dedicate their bandwidth to gnet traffic
  from the network traffic by behaving as their "router".
  For the modem users connected (called leaves/leafs or ultraleaves/ultraleafs) it looks like they are connected
  to some kind of server. <br>gtk-gnutella will support ultrapeers and leaves with version 0.92.
</p>



<h2>Gnutella connections</h2>

<h3><a name="gnet0">What is a good number of connections?</a></h3>
<p>
  A good number is 4/5 (minimum/maximum). You can calculate a bandwidth
  consumption of 1kb/s per connection. You should never use up all your
  bandwidth with those. Especially on an asymetric cable/DSL connection you
  can easily starve your incoming traffic by producing too much outgoing
  traffic (TCP/IP issue). Use at most half of your outgoing bandwidth with
  gNet connections. E.g. on a line with 128kbit/s upstream set up at most
  8 connections. By using more than 10 connections you harm the gnutella network
  because message routing tables will invalidate too early. Avoid setting the max
  connections to a high value!<br>
  The bandwidth control settings will help you further finetuning gtk-gnutella's
  bandwidth usage.
</p>

<h3><a name="gnet1">Do I need to forward a port on my firewall?</a></h3>
<p>
  You don't need to forward any port for gtk-gnutella to work, but it
  will perform much better if you do. If gtk-gnutella thinks you are firewalled,
  it will not show any <a href="#down3">"push"</a> results since you wouldn't be
  able to download those anyway.<br>
  Even people can not connect directly to you, they can still download files from
  your node using a <a href="#down3">push request</a>.<br>
  You can configure the port gtk-gnutella listens on. The setting "listen port" is
  located on the "Network settings" tab on the config page.
</p>

<h3><a name="gnet2">What does "[FC]" mean?</a></h3>
<p>
  The FC means "flow control".<br>
  In general, you should make sure that servents to which you are connected do not flow control.
  Watch for the trailing "[FC]" indication at the end of the Info string (you may need to drag the
  right edge past the window to trigger the underlying scroll bar)
  As a rule of thumb, if you have more than one node flow-controlling at a given time,
  you don't have enough outgoing bandwidth dedicated to Gnet, and therefore you are harming the network:
  either decrease the amount of connections, enable the compression preferance, or raise the outgoing bandwidth limit.<br>
  By the way, you also see FC state in the type column
</p>

<h3><a name="gnet3">Why do i loose gnet connections when i have an upload?</a></h3>
<p>
  Try to do bandwidth limiting. If that didn't help maybe your provider throttles gnutella traffic. Try changing your
  gnutella port in the network settings of gtk-gnutella.
</p>

<h3><a name="gnet4">What does the stuff in the type column mean?</a></h3>
<p>
  You can see the type and some of the settings of a connection here.
  <pre>
     012345678 (offset)
     NIrwqTRFh
     ^^^^^^^^^
     ||||||||+ hops flow triggerd (h), or total query flow control (f)
     |||||||+  flow control (F), or pending data in queue (d)
     ||||||+   indicates whether RX is compressed
     |||||+    indicates whether TX is compressed
     ||||+     indicates whether we sent/received a QRT, or send/receive one
     |||+      indicates whether node is writable
     ||+       indicates whether node is readable
     |+        indicates connection type (Incoming, Outgoing, Ponging)
     +         indicates peer mode (Normal, Ultra, Leaf)
  </pre>
</p>



<h2>Searches</h2>

<h3><a name="search0">How can I get more results?</a></h3>
<p>
  The number of results you get depends heavily on wether people are able to
  connect to you (see <a href="#gnet1">port forwarding</a>)
  and on the <a href="#gnet0">number of connections</a> to other hosts.
</p>

<h3><a name="search1">Where did the filters go??</a></h3>
<p>
  If you don't see the filter button in your gtk-gnutella you probaly should enable the toolbar in the menu :)
</p>


<h2>Downloads</h2>

<h3><a name="down0">What does the status "ignore by [SHA1|name & size]" mean?</a></h3>
<p>
  This means that gtk-gnutella has that file recorded as complete in its 
  fileinfo database. This database is usually located in 
  ~/.gtk-gnutella/fileinfo. At the moment there is no way to remove or
  modify an entry of that database from the gui, but you can edit the file
  with any text editor while gtk-gnutella is not running. 
</p>

<h3><a name="down1">What does the status "No URN on server" mean?</a></h3>
<p>
  This means that gtk-gnutella wants to download a new file from a host, but
  that host does not provide a SHA1 hash for the file. Since the file is new
  (not yet partially downloaded), gtk-gnutella can not do an overlap check to
  verify that the file on the host is really the file you want. In such a case
  it relies on the SHA1 provided by the remote host, but if no SHA1 is supplied,
  then gtk-gnutella has no way of assuring that the file it wants to download
  and the file on the remote server are really the same.<br>
  If you get annoyed by those messages you can activate the "optimistic first
  chunk" option on the "download settings" tab in the config page.
</p>

<h3><a name="down2">Why is the same file downloaded X times?</a></h3>
<p>
  Check the "Range" column. This is called <a href="#down3">swarming</a>.
  Gtk-gnutella tries to get the file in <a href"#down4">chunks</a> and will
  get it from multiple hosts in parallel if possible.
</p>

<h3><a name="down3">What is "swarming"?</a></h3>
<p>
  Swarming describes the ability to download a single file from multiple hosts
  in parallel. Gtk-gnutella will automatically try to find additional sources
  for any queued file using the <a href="#down5">download mesh</a> and by
  monitoring routed results.
</p>

<h3><a name="down4">What is a "chunk"?</a></h3>
<p>
  A chunk is another word for "part of a file". When gtk-gnutella runs in
  <a href="#down4">swarming mode</a> it will retrieve multiple chunks of a
  downloading file until it has downloaded the complete file. The "Range"
  column shows you which chunk you are currently downloading.
</p>

<h3><a name="down5">What is the "download mesh"?</a></h3>
<p>
  When you download a file from a host that supports the download mesh,
  it will tell you about additional sources for the requested file
  (provided it know any). Those will then be used for
  <a href="#down4">swarming</a>
</p>

<h3><a name="down6">What is a "push request"?</a></h3>
<p>
  The "push request" is a facility to download files from hosts you can
  not connect to directly (because they are firewalled). Well, you can
  not connect to those hosts, but they probably can connect to you. To
  tell a remote host to connect to your host so that you can download
  a file from the remote host you send a push request to it.<br>
  You can't make use the the push requests when you are behind a firewall
  (see <a href="#gnet1">port forwarding</a>).
</p>

<h3><a name="down7">why does gtk-gnutella append a .OK to my file names?</a></h3>
<p>
  You have probably not setup different directories for downloaded files, temporary files and bad files.

</p>
